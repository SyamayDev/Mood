<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Mood â†’ Music Recommender</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI;
  background:#f0f4f8;
  display:flex;
  justify-content:center;
  padding:20px;
  transition:background 0.5s;
}
.app{
  width:100%;
  max-width:480px;
}
/* HEADER */
.header{
  background:#fff;
  padding:24px;
  border-radius:28px;
  box-shadow:0 16px 40px rgba(0,0,0,.08);
  text-align:center;
}
h1{
  margin:0;
  font-size:28px;
  color:#333;
  letter-spacing:0.5px;
}
.subtitle{
  font-size:15px;
  color:#555;
  margin-top:6px;
}

/* MOODS */
.moods{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
  gap:14px;
  margin:24px 0;
}
.moods button{
  padding:16px;
  border:none;
  border-radius:20px;
  font-size:16px;
  cursor:pointer;
  background:#fff;
  box-shadow:0 8px 20px rgba(0,0,0,.06);
  transition:.3s;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.moods button span{
  margin-top:6px;
  font-weight:500;
}
.moods button.active{
  transform:scale(1.05);
  background:linear-gradient(135deg,#6EE7B7,#3B82F6);
  color:#fff;
  box-shadow:0 12px 28px rgba(0,0,0,.12);
}
.moods button:hover{
  transform:translateY(-4px) scale(1.03);
}

/* INFO */
.info{
  font-size:14px;
  color:#555;
  margin-bottom:12px;
  text-align:center;
  min-height:20px;
}

/* SONG */
.song{
  background:#fff;
  padding:18px;
  border-radius:20px;
  margin-bottom:14px;
  cursor:pointer;
  box-shadow:0 8px 22px rgba(0,0,0,.07);
  transition:.25s;
  animation:fadeUp .4s ease;
}
.song:hover{
  transform:translateY(-4px);
  box-shadow:0 16px 30px rgba(0,0,0,.12);
}
.song-title{
  font-weight:600;
  margin-bottom:6px;
  font-size:16px;
  color:#333;
}
.song-channel{
  font-size:14px;
  color:#777;
}

/* LOADING */
.skeleton{
  height:64px;
  border-radius:20px;
  background:linear-gradient(
    90deg,
    #eee 25%,
    #f5f5f5 50%,
    #eee 75%
  );
  background-size:400% 100%;
  animation:shimmer 1.4s infinite;
  margin-bottom:12px;
}

/* PLAYER MODAL */
.player{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  animation:fade .25s;
  z-index:100;
}
.player-box{
  width:90%;
  max-width:440px;
  background:#000;
  border-radius:24px;
  overflow:hidden;
  animation:zoom .3s forwards;
  position:relative;
}
.player iframe{
  width:100%;
  height:260px;
  border:0;
}
.close{
  position:absolute;
  top:12px;
  right:12px;
  background:#fff;
  border:none;
  border-radius:50%;
  width:36px;
  height:36px;
  font-size:18px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
}

/* FOOTER */
.footer{
  text-align:center;
  font-size:12px;
  color:#999;
  margin-top:28px;
}

/* ANIMATIONS */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1;transform:translateY(0)}
}
@keyframes shimmer{
  0%{background-position:100% 0}
  100%{background-position:-100% 0}
}
@keyframes zoom{
  from{transform:scale(.85)}
  to{transform:scale(1)}
}
@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}

/* RESPONSIVE */
@media(max-width:400px){
  h1{font-size:24px;}
  .moods button{padding:14px;font-size:14px;}
  .song-title{font-size:15px;}
  .song-channel{font-size:13px;}
}
</style>
</head>
<body>

<div class="app">
  <div class="header">
    <h1>Mood â†’ Music ðŸŽ§</h1>
    <div class="subtitle">Pilih mood, preview lagu langsung</div>
  </div>

  <div class="moods">
    <button onclick="loadMood('happy',this)">ðŸ˜„<span>Happy</span></button>
    <button onclick="loadMood('sad',this)">ðŸ˜”<span>Sad</span></button>
    <button onclick="loadMood('chill',this)">ðŸ˜Œ<span>Chill</span></button>
    <button onclick="loadMood('focus',this)">ðŸš€<span>Focus</span></button>
    <button onclick="loadMood('angry',this)">ðŸ˜¤<span>Angry</span></button>
    <button onclick="loadMood('romantic',this)">ðŸ’–<span>Romantic</span></button>
    <button onclick="loadMood('party',this)">ðŸŽ‰<span>Party</span></button>
    <button onclick="loadMood('sleep',this)">ðŸ˜´<span>Sleep</span></button>
  </div>

  <div class="info" id="info"></div>
  <div id="result"></div>

  <div class="footer">Created by <a href="https://github.com/SyamayDev">SyamayDev</a></div>
</div>

<!-- PLAYER -->
<div class="player" id="player">
  <div class="player-box">
    <button class="close" onclick="closePlayer()">âœ•</button>
    <iframe id="ytPlayer" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>
</div>

<script>
const API_KEY = "AIzaSyD5MbUMg8d_kMq6lhrSRKuJ_O2JRRRjwnM";
const MAX_RESULT = 6;

const moods = {
  happy:{query:"happy pop music",bg:"#fff7d6"},
  sad:{query:"sad acoustic song",bg:"#eef1f7"},
  chill:{query:"lofi chill music",bg:"#e8fff7"},
  focus:{query:"coding focus music instrumental",bg:"#eef6ff"},
  angry:{query:"rock metal music",bg:"#ffecec"},
  romantic:{query:"romantic love songs",bg:"#ffe6f0"},
  party:{query:"party dance music",bg:"#fff3e6"},
  sleep:{query:"sleep relaxing music",bg:"#eaeaff"}
};

async function loadMood(mood,btn){
  document.querySelectorAll(".moods button")
    .forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");

  const box = document.getElementById("result");
  const info = document.getElementById("info");
  document.body.style.background = moods[mood].bg;

  box.innerHTML = `
    <div class="skeleton"></div>
    <div class="skeleton"></div>
    <div class="skeleton"></div>
  `;
  info.innerHTML = "Mengambil lagu...";

  const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=${MAX_RESULT}&q=${encodeURIComponent(moods[mood].query)}&key=${API_KEY}`;

  try{
    const res = await fetch(url);
    const data = await res.json();

    box.innerHTML = "";
    info.innerHTML = `Mood <b>${mood.toUpperCase()}</b> â€¢ ${data.items.length} lagu`;

    data.items.forEach(item=>{
      box.innerHTML += `
        <div class="song" onclick="play('${item.id.videoId}')">
          <div class="song-title">${item.snippet.title}</div>
          <div class="song-channel">${item.snippet.channelTitle}</div>
        </div>
      `;
    });
  }catch{
    box.innerHTML = "<div class='info'>Gagal mengambil lagu ðŸ˜¢</div>";
  }
}

function play(id){
  const player=document.getElementById("player");
  document.getElementById("ytPlayer").src=`https://www.youtube.com/embed/${id}?autoplay=1`;
  player.style.display="flex";
} 
function closePlayer(){ 
  document.getElementById("player").style.display="none"; 
  document.getElementById("ytPlayer").src=""; 
} 
</script>

</body>
</html>
