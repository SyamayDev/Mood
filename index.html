<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mood â†’ Music Recommender</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  background:#f8fafc;
  display:flex;
  justify-content:center;
  padding:15px;
  transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  color: #1e293b;
}
.app{
  width:100%;
  max-width:500px;
  margin-top: 10px;
}

/* HEADER */
.header{
  background:#fff;
  padding:30px 20px;
  border-radius:32px;
  box-shadow:0 10px 25px rgba(0,0,0,.04);
  text-align:center;
  margin-bottom: 25px;
}
h1{
  margin:0;
  font-size:26px;
  font-weight: 800;
  background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.subtitle{
  font-size:14px;
  color:#64748b;
  margin-top:8px;
}

/* MOODS GRID - Perbaikan Utama */
.moods{
  display:grid;
  /* Menggunakan 2 kolom di HP agar tombol lebih besar */
  grid-template-columns: repeat(2, 1fr);
  gap:12px;
  margin-bottom:25px;
}

.moods button{
  padding:20px 10px;
  border:none;
  border-radius:24px;
  font-size:15px;
  cursor:pointer;
  background:#fff;
  box-shadow:0 4px 6px -1px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 8px;
}

.moods button .emoji {
  font-size: 28px;
}

.moods button span{
  font-weight:600;
  color: #475569;
}

.moods button:active {
  transform: scale(0.95);
}

.moods button.active{
  background:#3b82f6;
  box-shadow:0 10px 15px -3px rgba(59, 130, 246, 0.4);
}
.moods button.active span { color: #fff; }

/* SONG LIST */
.info{
  font-size:14px;
  font-weight: 600;
  color:#64748b;
  margin: 20px 0 12px;
  text-align:left;
  padding-left: 5px;
}

.song{
  background:#fff;
  padding:16px;
  border-radius:20px;
  margin-bottom:12px;
  cursor:pointer;
  display: flex;
  align-items: center;
  gap: 15px;
  box-shadow:0 4px 6px -1px rgba(0,0,0,0.05);
  animation:fadeUp .4s ease;
}

.song-icon {
    width: 45px;
    height: 45px;
    background: #f1f5f9;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

.song-info { flex: 1; }

.song-title{
  font-weight:700;
  font-size:15px;
  color:#1e293b;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.song-channel{
  font-size:13px;
  color:#94a3b8;
  margin-top: 2px;
}

/* PLAYER MODAL */
.player{
  position:fixed;
  inset:0;
  background:rgba(15, 23, 42, 0.9);
  backdrop-filter: blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
  padding: 20px;
}
.player-box{
  width:100%;
  max-width:500px;
  background:#000;
  border-radius:30px;
  overflow:hidden;
  position:relative;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
}
.player iframe{
  width:100%;
  aspect-ratio: 16/9;
  border:0;
  display: block;
}
.close{
  position:absolute;
  top:15px;
  right:15px;
  background:#fff;
  border:none;
  border-radius:50%;
  width:32px;
  height:32px;
  font-size:16px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 10;
}

/* LOADING SKELETON */
.skeleton{
  height:77px;
  border-radius:20px;
  background: #eee;
  background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
  background-size: 200% 100%;
  animation: 1.5s shine linear infinite;
  margin-bottom:12px;
}

@keyframes shine {
  to { background-position-x: -200%; }
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(15px)}
  to{opacity:1;transform:translateY(0)}
}

.footer{
  text-align:center;
  font-size:13px;
  color:#94a3b8;
  margin: 40px 0 20px;
}
.footer a { color: #3b82f6; text-decoration: none; font-weight: 600; }
</style>
</head>
<body>

<div class="app">
  <div class="header">
    <h1>Mood â†’ Music ðŸŽ§</h1>
    <div class="subtitle">Pilih mood-mu, kami putarkan lagunya</div>
  </div>

  <div class="moods">
    <button onclick="loadMood('happy',this)">
        <span class="emoji">ðŸ˜„</span><span>Happy</span>
    </button>
    <button onclick="loadMood('sad',this)">
        <span class="emoji">ðŸ˜”</span><span>Sad</span>
    </button>
    <button onclick="loadMood('chill',this)">
        <span class="emoji">ðŸ˜Œ</span><span>Chill</span>
    </button>
    <button onclick="loadMood('focus',this)">
        <span class="emoji">ðŸš€</span><span>Focus</span>
    </button>
    <button onclick="loadMood('angry',this)">
        <span class="emoji">ðŸ˜¤</span><span>Angry</span>
    </button>
    <button onclick="loadMood('romantic',this)">
        <span class="emoji">ðŸ’–</span><span>Romantic</span>
    </button>
    <button onclick="loadMood('party',this)">
        <span class="emoji">ðŸŽ‰</span><span>Party</span>
    </button>
    <button onclick="loadMood('sleep',this)">
        <span class="emoji">ðŸ˜´</span><span>Sleep</span>
    </button>
  </div>

  <div class="info" id="info"></div>
  <div id="result"></div>

  <div class="footer">Created by <a href="https://github.com/SyamayDev">SyamayDev</a></div>
</div>

<div class="player" id="player">
  <div class="player-box">
    <button class="close" onclick="closePlayer()">âœ•</button>
    <iframe id="ytPlayer" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>
</div>

<script>
const API_KEY = "AIzaSyD5MbUMg8d_kMq6lhrSRKuJ_O2JRRRjwnM";
const MAX_RESULT = 6;

const moods = {
  happy:{query:"happy pop music upbeat",bg:"#fefce8"},
  sad:{query:"sad emotional acoustic song",bg:"#f1f5f9"},
  chill:{query:"lofi chill hip hop beats",bg:"#f0fdf4"},
  focus:{query:"deep focus music for study",bg:"#eff6ff"},
  angry:{query:"heavy rock metal intense",bg:"#fef2f2"},
  romantic:{query:"best romantic love songs",bg:"#fff1f2"},
  party:{query:"party dance club hits",bg:"#fff7ed"},
  sleep:{query:"deep sleep relaxing rain music",bg:"#f5f3ff"}
};

async function loadMood(mood,btn){
  document.querySelectorAll(".moods button")
    .forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");

  const box = document.getElementById("result");
  const info = document.getElementById("info");
  document.body.style.background = moods[mood].bg;

  box.innerHTML = `<div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>`;
  info.innerHTML = "Sedang mencari lagu...";

  const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=${MAX_RESULT}&q=${encodeURIComponent(moods[mood].query)}&key=${API_KEY}`;

  try{
    const res = await fetch(url);
    const data = await res.json();
    box.innerHTML = "";
    info.innerHTML = `Mood: ${mood.toUpperCase()}`;

    data.items.forEach(item=>{
      box.innerHTML += `
        <div class="song" onclick="play('${item.id.videoId}')">
          <div class="song-icon">ðŸŽµ</div>
          <div class="song-info">
            <div class="song-title">${item.snippet.title}</div>
            <div class="song-channel">${item.snippet.channelTitle}</div>
          </div>
        </div>
      `;
    });
  } catch(e) {
    box.innerHTML = "<div style='text-align:center;padding:20px;'>Gagal mengambil lagu. Periksa API Key Anda.</div>";
  }
}

function play(id){
  const player=document.getElementById("player");
  document.getElementById("ytPlayer").src=`https://www.youtube.com/embed/${id}?autoplay=1`;
  player.style.display="flex";
} 
function closePlayer(){ 
  document.getElementById("player").style.display="none"; 
  document.getElementById("ytPlayer").src=""; 
} 
</script>

</body>
</html>